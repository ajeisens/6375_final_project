### Makefile for the dwt2d project
### Generated by Bluespec Workstation on Wed Apr 13 01:20:48 EDT 2016

default: full_clean compile link simulate

.PHONY: compile
compile:
	@echo Compiling...
	bsc -u -sim -simdir . -bdir bscdir -info-dir . -keep-fires -steps-warn-interval 100000 -steps-max-intervals 100 -show-schedule -aggressive-conditions -D SIM -p .:%/Prelude:%/Libraries:%/Libraries/BlueNoC:./..:./../includes -g mkDWT2DTest  dwt2d_test.bsv 
	@echo Compilation finished

.PHONY: link
link:
	@echo Linking...
	bsc -e mkDWT2DTest -sim -o ./out -simdir . -p .:%/Prelude:%/Libraries:%/Libraries/BlueNoC:./..:./../includes -bdir bscdir -keep-fires 
	@echo Linking finished

.PHONY: simulate
simulate:
	@echo Simulation...
	./out 
	@echo Simulation finished

.PHONY: clean
clean:
	exec rm -f bscdir/DWT1DS.bo bscdir/DWTTypes.bo bscdir/MemTypes.bo bscdir/Types.bo bscdir/DWT2DS.bo bscdir/MultAdder.bo bscdir/dwt2d_test.bo
	exec rm -f bscdir/mkDWT1DSFixed.ba bscdir/mkDWT2DTest.ba

.PHONY: full_clean
full_clean:
	rm -f bscdir/DWT1DS.bo bscdir/DWTTypes.bo bscdir/MemTypes.bo bscdir/Types.bo bscdir/DWT2DS.bo bscdir/MultAdder.bo bscdir/dwt2d_test.bo
	rm -f bscdir/mkDWT1DSFixed.ba bscdir/mkDWT2DTest.ba
	rm -f ./mkDWT1DSFixed.sched ./mkDWT2DTest.sched
	rm -f ./model_mkDWT2DTest.h ./mkDWT2DTest.h
	rm -f ./mkDWT2DTest.cxx ./model_mkDWT2DTest.cxx
