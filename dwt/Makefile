### Makefile for the dwt2d project
### Generated by Bluespec Workstation on Sat Apr 16 15:03:20 EDT 2016

default: full_clean compile link simulate

.PHONY: compile
compile:
	@echo Compiling...
	bsc -u -sim -simdir . -bdir bscdir -info-dir . -keep-fires -steps-warn-interval 100000 -steps-max-intervals 100 -show-schedule -aggressive-conditions -D SIM -p .:../serialize:../deserialize:../huffman:..:../includes:%/Prelude:%/Libraries:%/Libraries/BlueNoC -g mkDWT2DTest  dwt2d_test.bsv 
	@echo Compilation finished

.PHONY: link
link:
	@echo Linking...
	bsc -e mkDWT2DTest -sim -o ./out -simdir . -p .:../serialize:../deserialize:../huffman:..:../includes:%/Prelude:%/Libraries:%/Libraries/BlueNoC -bdir bscdir -keep-fires 
	@echo Linking finished

.PHONY: simulate
simulate:
	@echo Simulation...
	./out 
	@echo Simulation finished

.PHONY: clean
clean:
	exec rm -f bscdir/DWTTypes.bo bscdir/DWT2DSF.bo bscdir/dwt1ds_test.bo bscdir/DWT1DSF.bo bscdir/MultAdder.bo bscdir/dwt2d_test.bo
	exec rm -f bscdir/mkDWT2DTest.ba bscdir/mkDWT1DSTest.ba

.PHONY: full_clean
full_clean:
	rm -f bscdir/DWTTypes.bo bscdir/DWT2DSF.bo bscdir/dwt1ds_test.bo bscdir/DWT1DSF.bo bscdir/MultAdder.bo bscdir/dwt2d_test.bo
	rm -f bscdir/mkDWT2DTest.ba bscdir/mkDWT1DSTest.ba
	rm -f ./mkDWT1DSTest.sched ./mkDWT2DTest.sched
	rm -f ./model_mkDWT2DTest.h ./mkDWT2DTest.h
	rm -f ./mkDWT2DTest.cxx ./model_mkDWT2DTest.cxx
	rm -f ./mkDWT1DSTest.h ./model_mkDWT1DSTest.h
	rm -f ./mkDWT1DSTest.cxx ./model_mkDWT1DSTest.cxx
